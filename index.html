<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Wave 4 JP Team 2 | Musubi - The Connected Journey</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Noto+Serif+JP:wght@300;600;900&family=Manrope:wght@300;400;700&family=Great+Vibes&display=swap"
      rel="stylesheet"
    />

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.4/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.4/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.4/ScrollToPlugin.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.29/bundled/lenis.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              jp: {
                red: "#C42128",
                black: "#121212",
                gold: "#D4AF37",
                paper: "#F4F4F0",
                ink: "#1A1A1A",
                pink: "#FFC0CB",
              },
            },
            fontFamily: {
              cinzel: ['"Cinzel"', "serif"],
              serif: ['"Noto Serif JP"', "serif"],
              sans: ['"Manrope"', "sans-serif"],
              script: ['"Great Vibes"', "cursive"],
            },
            animation: {
              "spin-slow": "spin 12s linear infinite",
              pulse: "pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite",
              float: "float 3s ease-in-out infinite",
            },
            keyframes: {
              float: {
                "0%, 100%": { transform: "translateY(0)" },
                "50%": { transform: "translateY(-10px)" },
              },
            },
          },
        },
      };
    </script>

    <style>
      body {
        background-color: #0f0f0f;
        color: #f4f4f0;
        overflow: hidden;
        cursor: none;
      }

      .washi-overlay {
        position: fixed;
        inset: 0;
        background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.07'/%3E%3C/svg%3E");
        pointer-events: none;
        z-index: 40;
      }

      #sakura-canvas {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 1;
        pointer-events: none;
      }

      #preloader {
        position: fixed;
        inset: 0;
        background-color: #0f0f0f;
        z-index: 99999;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 2rem;
        cursor: pointer;
        transition: opacity 0.8s ease-in-out, visibility 0.8s;
      }

      .luxury-stamp-container {
        position: relative;
        width: 120px;
        height: 120px;
      }

      .luxury-stamp {
        width: 100%;
        height: 100%;
        fill: #d4af37;
        filter: drop-shadow(0 4px 8px rgba(212, 175, 55, 0.4));
        animation: pulse-subtle 4s ease-in-out infinite;
      }

      @keyframes pulse-subtle {
        0%,
        100% {
          transform: scale(1);
          opacity: 0.9;
          filter: drop-shadow(0 4px 8px rgba(212, 175, 55, 0.4));
        }
        50% {
          transform: scale(1.05);
          opacity: 1;
          filter: drop-shadow(0 6px 12px rgba(212, 175, 55, 0.6));
        }
      }

      .click-hint-btn {
        opacity: 0;
        transform: translateY(20px);
        transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        padding: 0.8rem 2.5rem;
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(212, 175, 55, 0.5);
        border-radius: 9999px;
        backdrop-filter: blur(10px);
        color: #d4af37;
        font-family: "Manrope", sans-serif;
        text-transform: uppercase;
        letter-spacing: 0.2em;
        font-size: 0.875rem;
        font-weight: 600;
        cursor: pointer;
        position: relative;
        overflow: hidden;
      }

      .click-hint-btn::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(212, 175, 55, 0.2),
          transparent
        );
        transition: left 0.7s;
      }

      .click-hint-btn:hover {
        background: rgba(212, 175, 55, 0.1);
        border-color: #d4af37;
        box-shadow: 0 0 20px rgba(212, 175, 55, 0.4);
        color: #fff;
      }

      .click-hint-btn:hover::before {
        left: 100%;
      }

      .loaded .click-hint-btn {
        opacity: 1;
        transform: translateY(0);
      }
      .loaded .luxury-stamp-container {
        animation: float 3s ease-in-out infinite;
      }
      .loaded #loading-text {
        display: none;
      }

      .cursor-dot,
      .cursor-outline {
        position: fixed;
        top: 0;
        left: 0;
        transform: translate(-50%, -50%);
        border-radius: 50%;
        z-index: 9999;
        pointer-events: none;
      }
      .cursor-dot {
        width: 8px;
        height: 8px;
        background-color: #c42128;
      }
      .cursor-outline {
        width: 40px;
        height: 40px;
        border: 1px solid rgba(212, 175, 55, 0.5);
        transition: width 0.2s, height 0.2s, background-color 0.2s;
      }
      body.hovering .cursor-outline {
        width: 60px;
        height: 60px;
        background-color: rgba(196, 33, 40, 0.1);
        border-color: #c42128;
      }

      .musubi-container {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -1;
        overflow: visible;
        pointer-events: none;
      }

      .vertical-rl {
        writing-mode: vertical-rl;
        text-orientation: upright;
        letter-spacing: 0.5em;
      }

      .image-frame {
        position: relative;
        overflow: hidden;
        transition: transform 0.7s cubic-bezier(0.25, 1, 0.5, 1);
        box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
      }
      .image-frame::after {
        content: "";
        position: absolute;
        inset: 0;
        border: 1px solid rgba(212, 175, 55, 0.3);
        transform: scale(0.92);
        transition: transform 0.5s;
      }
      .image-frame:hover {
        transform: scale(1.05) rotate(1deg);
        z-index: 20;
      }
      .image-frame:hover::after {
        transform: scale(1);
        border-color: #d4af37;
      }

      .member-card {
        background: rgba(26, 26, 26, 0.4);
        backdrop-filter: blur(5px);
        border: 1px solid rgba(255, 255, 255, 0.05);
        transition: all 0.4s ease;
      }
      .member-card:hover {
        background: rgba(196, 33, 40, 0.15);
        border-color: #d4af37;
        transform: translateX(10px);
        box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
      }

      .envelope-wrapper {
        position: relative;
        width: 300px;
        height: 450px;
        cursor: pointer;
        perspective: 1000px;
        z-index: 30;
        margin-top: 20px;
      }
      .env-layer {
        position: absolute;
        left: 0;
        width: 100%;
      }
      .env-back {
        bottom: 0;
        height: 100%;
        background-color: #a6001a;
        border-radius: 8px;
        z-index: 1;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
      }
      .env-card {
        bottom: 10px;
        left: 5%;
        width: 90%;
        height: 85%;
        background: #fff;
        z-index: 2;
        border-radius: 6px;
        transition: transform 0.5s;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 20px;
        text-align: center;
        box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
      }
      .env-front {
        bottom: 0;
        height: 80%;
        background: linear-gradient(135deg, #c42128 0%, #d93038 100%);
        border-radius: 0 0 8px 8px;
        z-index: 10;
        border: 2px solid #d4af37;
        border-top: none;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .env-front::before {
        content: "";
        position: absolute;
        top: -40px;
        left: 0;
        width: 100%;
        height: 40px;
        background: inherit;
        clip-path: polygon(0 100%, 50% 0, 100% 100%);
        z-index: 10;
      }
      .env-flap {
        top: 0;
        height: 120px;
        background-color: #900015;
        clip-path: polygon(0 0, 50% 100%, 100% 0);
        transform-origin: top;
        z-index: 20;
        transition: transform 0.6s ease-in-out;
      }
      .envelope-wrapper.is-open .env-flap {
        transform: rotateX(180deg);
        z-index: 0;
      }
      .decor-circle {
        width: 80px;
        height: 80px;
        border: 2px solid #d4af37;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        background: rgba(166, 0, 26, 0.5);
        box-shadow: 0 0 15px rgba(212, 175, 55, 0.3);
      }
    </style>
  </head>
  <body class="selection:bg-jp-red selection:text-white">
    <div id="preloader" class="interact-hover">
      <div class="luxury-stamp-container">
        <svg
          class="luxury-stamp"
          viewBox="0 0 100 100"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g transform="translate(50,50)">
            <path
              d="M0,0 C10,-20 20,-30 0,-45 C-20,-30 -10,-20 0,0"
              transform="rotate(0) translate(0,-5)"
            />
            <path
              d="M0,0 C10,-20 20,-30 0,-45 C-20,-30 -10,-20 0,0"
              transform="rotate(72) translate(0,-5)"
            />
            <path
              d="M0,0 C10,-20 20,-30 0,-45 C-20,-30 -10,-20 0,0"
              transform="rotate(144) translate(0,-5)"
            />
            <path
              d="M0,0 C10,-20 20,-30 0,-45 C-20,-30 -10,-20 0,0"
              transform="rotate(216) translate(0,-5)"
            />
            <path
              d="M0,0 C10,-20 20,-30 0,-45 C-20,-30 -10,-20 0,0"
              transform="rotate(288) translate(0,-5)"
            />
            <circle cx="0" cy="0" r="4" fill="#B49430" />
          </g>
        </svg>
      </div>

      <h2
        id="loading-text"
        class="text-jp-gold font-cinzel tracking-widest text-lg animate-pulse"
      >
        CONNECTING...
      </h2>

      <button class="click-hint-btn">Chạm để bắt đầu hành trình</button>

      <p class="text-gray-600 font-serif text-xs italic fixed bottom-10">
        "Musubi - Sự kết nối của thời gian"
      </p>
    </div>

    <div class="washi-overlay"></div>
    <canvas id="sakura-canvas"></canvas>

    <div class="cursor-dot"></div>
    <div class="cursor-outline"></div>

    <div class="musubi-container">
      <svg
        id="musubi-svg"
        preserveAspectRatio="none"
        width="100%"
        height="100%"
        xmlns="http://www.w3.org/2000/svg"
      >
        <defs>
          <filter id="glow-gold">
            <feGaussianBlur stdDeviation="3.5" result="coloredBlur" />
            <feMerge>
              <feMergeNode in="coloredBlur" />
              <feMergeNode in="SourceGraphic" />
            </feMerge>
          </filter>
        </defs>
        <path
          id="thread-red"
          fill="none"
          stroke="#D93038"
          stroke-width="5"
          stroke-linecap="round"
          style="filter: url(#glow-gold)"
        />
        <path
          id="thread-gold"
          fill="none"
          stroke="#E5C15D"
          stroke-width="2.5"
          stroke-dasharray="10, 15"
          stroke-opacity="0.8"
        />
      </svg>
    </div>

    <main class="relative w-full z-10">
      <section
        id="hero"
        class="h-screen flex flex-col items-center justify-center relative px-6"
      >
        <div class="absolute top-10 left-10 md:left-20 opacity-20 select-none">
          <span
            class="vertical-rl text-6xl md:text-8xl font-serif font-black text-jp-red"
          >
            結び
          </span>
        </div>
        <div class="text-center z-10 interact-hover">
          <div class="overflow-hidden mb-4">
            <p
              class="text-jp-gold font-sans tracking-[0.5em] text-sm uppercase reveal-text"
            >
              Appen Data Tech • 2025
            </p>
          </div>
          <h1
            class="font-cinzel text-5xl md:text-8xl font-bold text-white leading-tight mb-2"
          >
            <span class="block reveal-text" style="animation-delay: 0.1s"
              >WAVE 4</span
            >
            <span
              class="block text-jp-red reveal-text"
              style="animation-delay: 0.2s"
              >JP TEAM 2</span
            >
          </h1>
          <div
            class="w-1 h-24 bg-gradient-to-b from-jp-gold to-transparent mx-auto mt-8"
          ></div>
        </div>
        <div
          class="absolute bottom-10 flex flex-col items-center animate-bounce"
        >
          <span class="text-xs text-gray-500 mb-2 vertical-rl h-16"
            >SCROLL</span
          >
        </div>
      </section>

      <div class="container mx-auto px-4 py-20 relative">
        <section
          id="phase-1"
          class="min-h-[80vh] flex items-center justify-center py-20"
        >
          <div
            class="grid grid-cols-1 md:grid-cols-12 gap-8 w-full items-center"
          >
            <div class="md:col-span-5 text-right space-y-4 interact-hover">
              <h2
                class="text-6xl text-jp-paper font-serif opacity-10 absolute -top-10 left-0 select-none"
              >
                01
              </h2>
              <h3 class="text-4xl md:text-5xl font-serif font-bold text-white">
                Khởi Nguyên
              </h3>
              <p class="text-jp-gold font-mono">30.06.2025</p>
              <p
                class="text-gray-400 font-serif italic text-lg leading-relaxed"
              >
                "Vạn sự khởi đầu nan. Những viên gạch đầu tiên được đặt xuống
                giữa lòng Hà Nội."
              </p>
            </div>
            <div class="md:col-span-2 hidden md:flex"></div>
            <div
              class="md:col-span-5 border-l border-jp-gold/30 pl-8 space-y-3"
            >
              <div class="stagger-list space-y-3">
                <div class="member-card p-3 rounded interact-hover group">
                  <span
                    class="font-sans font-bold group-hover:text-jp-gold transition-colors"
                    >Nguyễn Đình Huy</span
                  >
                </div>
                <div class="member-card p-3 rounded interact-hover group">
                  <span
                    class="font-sans font-bold group-hover:text-jp-gold transition-colors"
                    >Trần Hồng Trang Nhung</span
                  >
                </div>
                <div class="member-card p-3 rounded interact-hover group">
                  <span
                    class="font-sans font-bold group-hover:text-jp-gold transition-colors"
                    >Đặng Phạm Châu Nhi</span
                  >
                </div>
                <div class="member-card p-3 rounded interact-hover group">
                  <span
                    class="font-sans font-bold group-hover:text-jp-gold transition-colors"
                    >Nguyễn Hoàng Anh</span
                  >
                </div>
                <div class="member-card p-3 rounded interact-hover group">
                  <span
                    class="font-sans font-bold group-hover:text-jp-gold transition-colors"
                    >Mai Trọng Tân</span
                  >
                </div>
                <div class="member-card p-3 rounded interact-hover group">
                  <span
                    class="font-sans font-bold group-hover:text-jp-gold transition-colors"
                    >Nguyễn Thị Hằng</span
                  >
                </div>
                <div class="member-card p-3 rounded interact-hover group">
                  <span
                    class="font-sans font-bold group-hover:text-jp-gold transition-colors"
                    >Nguyễn Anh Dũng</span
                  >
                </div>
                <div
                  class="mt-4 p-4 bg-gradient-to-r from-jp-red/20 to-transparent border border-jp-red/60 rounded relative overflow-hidden group interact-hover hover:scale-105 transition-transform duration-300"
                >
                  <span
                    class="text-xs text-jp-gold uppercase font-bold tracking-widest"
                    >Special Guest</span
                  >
                  <div class="font-bold text-xl text-white mt-1">
                    Trần Thùy Dương
                  </div>
                  <div
                    class="absolute -right-2 -bottom-2 text-6xl opacity-10 text-jp-red"
                  >
                    <i class="fa-solid fa-star"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <section
          id="phase-2"
          class="min-h-[80vh] flex items-center justify-center py-20"
        >
          <div
            class="grid grid-cols-1 md:grid-cols-12 gap-8 w-full items-center"
          >
            <div
              class="md:col-span-5 order-2 md:order-1 border-r border-jp-gold/30 pr-8 space-y-3 text-right"
            >
              <div class="stagger-list-2 space-y-3">
                <div class="member-card p-3 rounded interact-hover group">
                  <span
                    class="font-sans font-bold group-hover:text-jp-gold transition-colors"
                    >Nguyễn Thị Nga</span
                  >
                </div>
                <div class="member-card p-3 rounded interact-hover group">
                  <span
                    class="font-sans font-bold group-hover:text-jp-gold transition-colors"
                    >Nguyễn Thành Luân</span
                  >
                </div>
                <div class="member-card p-3 rounded interact-hover group">
                  <span
                    class="font-sans font-bold group-hover:text-jp-gold transition-colors"
                    >Nguyễn Thị Phương Thảo</span
                  >
                </div>
                <div class="member-card p-3 rounded interact-hover group">
                  <span
                    class="font-sans font-bold group-hover:text-jp-gold transition-colors"
                    >Dương Thùy Quyên</span
                  >
                </div>
                <div class="member-card p-3 rounded interact-hover group">
                  <span
                    class="font-sans font-bold group-hover:text-jp-gold transition-colors"
                    >Trần Quốc Cường</span
                  >
                </div>
                <div class="member-card p-3 rounded interact-hover group">
                  <span
                    class="font-sans font-bold group-hover:text-jp-gold transition-colors"
                    >Bùi Thị Hằng</span
                  >
                </div>
                <div class="member-card p-3 rounded interact-hover group">
                  <span
                    class="font-sans font-bold group-hover:text-jp-gold transition-colors"
                    >Nguyễn Hoàng Phương Linh</span
                  >
                </div>
              </div>
            </div>
            <div class="md:col-span-2 hidden md:flex"></div>
            <div class="md:col-span-5 order-3 space-y-4 interact-hover">
              <h2
                class="text-6xl text-jp-gold font-serif opacity-10 absolute -top-10 right-0 select-none"
              >
                02
              </h2>
              <h3 class="text-4xl md:text-5xl font-serif font-bold text-white">
                Hội Tụ
              </h3>
              <p class="text-jp-gold font-mono">14.07.2025</p>
              <p
                class="text-gray-400 font-serif italic text-lg leading-relaxed"
              >
                "Mảnh ghép hoàn thiện. Đội hình Team 2 chính thức cất cánh, sẵn
                sàng cho những thử thách mới."
              </p>
            </div>
          </div>
        </section>
      </div>

      <section
        class="py-24 bg-gradient-to-b from-transparent via-jp-red/10 to-transparent"
      >
        <div class="container mx-auto text-center interact-hover">
          <div
            class="inline-block relative p-10 border border-jp-gold/30 rotate-45 mb-10 hover:rotate-90 transition-transform duration-700 ease-in-out"
          >
            <div class="absolute inset-2 border border-jp-gold/60"></div>
            <div class="-rotate-45">
              <span class="text-6xl font-cinzel text-jp-gold">H</span>
            </div>
          </div>
          <p
            class="text-jp-red tracking-[0.5em] text-sm uppercase font-bold mb-4"
          >
            The Captain
          </p>
          <h2 class="text-5xl md:text-7xl font-serif font-bold text-white mb-6">
            Trịnh Huy Hoàng
          </h2>
          <p class="text-xl text-gray-300 italic font-serif max-w-2xl mx-auto">
            "Người cầm lái con thuyền JP Team 2 vượt qua mọi deadline và sóng
            gió."
          </p>
        </div>
      </section>

      <section id="memories" class="relative py-20 overflow-hidden">
        <div class="absolute top-10 left-1/2 -translate-x-1/2 text-center z-10">
          <h2 class="font-script text-6xl text-jp-gold opacity-50">Kỷ Niệm</h2>
        </div>

        <div
          class="story-block min-h-screen flex items-center justify-center relative"
        >
          <div
            class="container mx-auto px-6 grid grid-cols-1 md:grid-cols-2 gap-12 items-center"
          >
            <div class="space-y-6 z-10 interact-hover">
              <h3 class="text-4xl font-serif font-bold text-gray-200">
                Bão Tố & Chông Gai
              </h3>
              <p class="text-gray-400 leading-relaxed text-justify">
                Hà Nội những ngày mưa lịch sử. Ngập lụt, tắc đường, khói bụi.
                Những buổi sáng vật lộn với dòng người để đến văn phòng. Khó
                khăn là thế, nhưng bánh xe vẫn quay và tinh thần team chưa bao
                giờ tắt.
              </p>
            </div>
            <div class="relative h-[400px] w-full parallax-group">
              <div
                class="absolute top-0 right-0 w-2/3 h-64 image-frame rotate-3 z-10 bg-gray-800"
              >
                <img
                  src="assets/traffic_4.jpg"
                  class="w-full h-full object-cover grayscale hover:grayscale-0 transition duration-500"
                  alt="Traffic"
                />
              </div>
              <div
                class="absolute bottom-0 left-10 w-2/3 h-64 image-frame -rotate-3 z-20 bg-gray-800"
              >
                <img
                  src="assets/flood_2.jpg"
                  class="w-full h-full object-cover grayscale hover:grayscale-0 transition duration-500"
                  alt="Flood"
                />
              </div>
            </div>
          </div>
        </div>

        <div
          class="story-block min-h-screen flex items-center justify-center relative"
        >
          <div
            class="container mx-auto px-6 grid grid-cols-1 md:grid-cols-2 gap-12 items-center"
          >
            <div
              class="relative h-[500px] w-full parallax-group order-2 md:order-1"
            >
              <div
                class="absolute top-10 left-0 w-3/5 h-64 image-frame -rotate-6 z-10"
              >
                <img
                  src="assets/party_1.jpg"
                  class="w-full h-full object-cover"
                  alt="Party 1"
                />
              </div>
              <div
                class="absolute bottom-10 right-0 w-3/5 h-64 image-frame rotate-6 z-20"
              >
                <img
                  src="assets/party_3.jpg"
                  class="w-full h-full object-cover"
                  alt="Party 3"
                />
              </div>
              <div
                class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-1/2 h-48 image-frame z-30 shadow-2xl"
              >
                <img
                  src="assets/party_2.jpg"
                  class="w-full h-full object-cover"
                  alt="Party 2"
                />
              </div>
            </div>
            <div
              class="space-y-6 z-10 order-1 md:order-2 text-right interact-hover"
            >
              <h3 class="text-4xl font-serif font-bold text-jp-gold">
                Sát Cánh Bên Nhau
              </h3>
              <p class="text-gray-400 leading-relaxed text-justify" dir="rtl">
                Sau những giờ làm việc căng thẳng là những khoảnh khắc "xả hơi"
                hết mình. Không chỉ là đồng nghiệp, chúng ta là gia đình bên nồi
                lẩu nghi ngút khói.
              </p>
            </div>
          </div>
        </div>

        <div
          class="story-block min-h-screen flex items-center justify-center relative"
        >
          <div
            class="container mx-auto px-6 grid grid-cols-1 md:grid-cols-2 gap-12 items-center"
          >
            <div class="space-y-6 z-10 interact-hover">
              <h3 class="text-4xl font-serif font-bold text-pink-400">
                Hạnh Phúc Thăng Hoa
              </h3>
              <p class="text-gray-400 leading-relaxed text-justify">
                Cùng nhau chứng kiến khoảnh khắc trọng đại. Những tà áo dài
                thướt tha, nụ cười rạng rỡ chúc phúc cho một hành trình mới.
                Team 2 luôn ở đây, trong những ngày vui nhất.
              </p>
            </div>
            <div class="grid grid-cols-2 gap-4 parallax-group">
              <div class="col-span-2 image-frame h-64">
                <img
                  src="assets/wedding_5.jpeg"
                  class="w-full h-full object-cover"
                  alt="Wedding Couple"
                />
              </div>
              <div class="image-frame h-48">
                <img
                  src="assets/wedding_4.jpeg"
                  class="w-full h-full object-cover"
                  alt="Girls"
                />
              </div>
              <div class="image-frame h-48">
                <img
                  src="assets/wedding_2.jpg"
                  class="w-full h-full object-cover"
                  alt="Selfie"
                />
              </div>
            </div>
          </div>
        </div>
      </section>

      <section
        id="finale"
        class="h-screen relative flex flex-col items-center justify-center bg-[#2A0808] overflow-hidden"
      >
        <div
          class="absolute inset-0 opacity-30 bg-[url('https://www.transparenttextures.com/patterns/seigaiha.png')]"
        ></div>

        <div
          id="finale-text"
          class="z-20 text-center mb-10 relative top-0 transition-all duration-500"
        >
          <h2 class="font-serif text-3xl text-jp-gold mb-2">
            Lời Chúc Cuối Năm
          </h2>
          <p class="text-gray-400 text-sm">
            Chạm vào bao lì xì để nhận lộc đầu năm
          </p>
        </div>

        <div class="envelope-wrapper interact-hover" id="lucky-envelope">
          <div class="env-layer env-back"></div>

          <div class="env-layer env-card">
            <h3 class="text-jp-red font-bold text-2xl mb-2 font-serif">
              ĐẠI CÁT (大吉)
            </h3>
            <p class="text-sm text-gray-600 italic mb-4">
              "Năm mới bứt phá, vững vàng, đoàn kết."
            </p>
            <div class="border-t border-gray-200 w-full pt-4 mt-2">
              <p class="text-xs font-bold text-gray-400 uppercase">
                Lucky Money
              </p>
              <p class="text-3xl font-bold text-jp-gold mt-1">
                1 TỶ
                <span class="text-xs text-black align-middle">(niềm vui)</span>
              </p>
            </div>
          </div>

          <div class="env-layer env-front">
            <div class="decor-circle">
              <span class="font-serif text-4xl text-jp-gold font-bold">福</span>
            </div>
          </div>

          <div class="env-layer env-flap"></div>
        </div>
      </section>
    </main>

    <script>
      const lenis = new Lenis({
        duration: 1.2,
        easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
      });
      function raf(time) {
        lenis.raf(time);
        requestAnimationFrame(raf);
      }
      requestAnimationFrame(raf);

      window.addEventListener("load", () => {
        const preloader = document.getElementById("preloader");

        setTimeout(() => {
          preloader.classList.add("loaded");
        }, 1000);

        const runEntranceAnimations = () => {
          document.body.style.overflow = "auto";

          gsap.to(preloader, {
            opacity: 0,
            duration: 1,
            onComplete: () => {
              preloader.style.display = "none";
            },
          });

          gsap.from(".reveal-text", {
            y: 100,
            opacity: 0,
            duration: 1.5,
            stagger: 0.2,
            ease: "power4.out",
            delay: 0.5,
          });
        };

        preloader.addEventListener("click", () => {
          if (preloader.classList.contains("loaded")) {
            runEntranceAnimations();
          }
        });
      });

      const cursorDot = document.querySelector(".cursor-dot");
      const cursorOutline = document.querySelector(".cursor-outline");
      const interactables = document.querySelectorAll(
        "a, button, .interact-hover"
      );

      window.addEventListener("mousemove", (e) => {
        const posX = e.clientX;
        const posY = e.clientY;
        cursorDot.style.left = `${posX}px`;
        cursorDot.style.top = `${posY}px`;

        cursorOutline.animate(
          { left: `${posX}px`, top: `${posY}px` },
          { duration: 500, fill: "forwards" }
        );
      });

      interactables.forEach((el) => {
        el.addEventListener("mouseenter", () =>
          document.body.classList.add("hovering")
        );
        el.addEventListener("mouseleave", () =>
          document.body.classList.remove("hovering")
        );
      });

      function drawMusubiPath() {
        const pathRed = document.getElementById("thread-red");
        const pathGold = document.getElementById("thread-gold");
        const container = document.querySelector(".musubi-container");
        const height = document.body.scrollHeight;
        container.style.height = `${height}px`;

        const width = window.innerWidth;
        const centerX = width / 2;
        let d = `M ${centerX} 0 `;
        const steps = 15;
        const stepHeight = height / steps;

        for (let i = 1; i <= steps; i++) {
          const y = i * stepHeight;
          const amplitude = width * 0.35;
          const x = centerX + (i % 2 === 0 ? -1 : 1) * amplitude * Math.sin(i);
          d += `S ${x} ${y}, ${centerX} ${y} `;
        }

        pathRed.setAttribute("d", d);
        pathGold.setAttribute("d", d);

        const length = pathRed.getTotalLength();
        pathRed.style.strokeDasharray = length;
        pathRed.style.strokeDashoffset = length;
        pathGold.style.strokeDasharray = length;

        gsap.to(pathRed, {
          strokeDashoffset: 0,
          ease: "none",
          scrollTrigger: {
            trigger: "body",
            start: "top top",
            end: "bottom bottom",
            scrub: 1,
          },
        });
      }

      window.addEventListener("load", drawMusubiPath);
      window.addEventListener("resize", drawMusubiPath);

      gsap.utils.toArray(".stagger-list > div").forEach((item) => {
        gsap.from(item, {
          x: -50,
          opacity: 0,
          duration: 0.8,
          scrollTrigger: { trigger: item, start: "top 85%" },
        });
      });

      gsap.utils.toArray(".stagger-list-2 > div").forEach((item) => {
        gsap.from(item, {
          x: 50,
          opacity: 0,
          duration: 0.8,
          scrollTrigger: { trigger: item, start: "top 85%" },
        });
      });

      document.querySelectorAll(".story-block").forEach((block) => {
        const images = block.querySelectorAll("img");
        gsap.to(images, {
          y: -50,
          ease: "none",
          scrollTrigger: {
            trigger: block,
            start: "top bottom",
            end: "bottom top",
            scrub: true,
          },
        });
      });

      const sakuraCanvas = document.getElementById("sakura-canvas");
      const ctx = sakuraCanvas.getContext("2d");
      sakuraCanvas.width = window.innerWidth;
      sakuraCanvas.height = window.innerHeight;

      const petals = [];
      const numPetals = 25;

      const petalColors = [
        "rgba(212, 175, 55, 0.4)",
        "rgba(255, 250, 240, 0.5)",
        "rgba(230, 180, 180, 0.4)",
      ];

      class Petal {
        constructor() {
          this.x = Math.random() * sakuraCanvas.width;
          this.y = Math.random() * sakuraCanvas.height - sakuraCanvas.height;
          this.size = Math.random() * 12 + 5;
          this.speedX = Math.random() * 1.5 - 0.75;
          this.speedY = Math.random() * 1 + 0.5;
          this.rotation = Math.random() * 360;
          this.rotationSpeed = Math.random() * 1 - 0.5;
          this.color =
            petalColors[Math.floor(Math.random() * petalColors.length)];
        }

        update() {
          this.y += this.speedY;
          this.x += this.speedX + Math.sin(this.y / 100) * 0.5;
          this.rotation += this.rotationSpeed;

          if (this.y > sakuraCanvas.height) {
            this.y = -20;
            this.x = Math.random() * sakuraCanvas.width;
          }
        }

        draw() {
          ctx.save();
          ctx.translate(this.x, this.y);
          ctx.rotate((this.rotation * Math.PI) / 180);
          ctx.fillStyle = this.color;
          ctx.beginPath();
          ctx.ellipse(0, 0, this.size, this.size / 1.8, 0, 0, Math.PI * 2);
          ctx.fill();
          ctx.restore();
        }
      }

      for (let i = 0; i < numPetals; i++) {
        petals.push(new Petal());
      }

      function animateSakura() {
        ctx.clearRect(0, 0, sakuraCanvas.width, sakuraCanvas.height);
        petals.forEach((petal) => {
          petal.update();
          petal.draw();
        });
        requestAnimationFrame(animateSakura);
      }
      animateSakura();

      window.addEventListener("resize", () => {
        sakuraCanvas.width = window.innerWidth;
        sakuraCanvas.height = window.innerHeight;
      });

      const envelopeWrapper = document.getElementById("lucky-envelope");
      const card = envelopeWrapper.querySelector(".env-card");
      let isOpened = false;

      envelopeWrapper.addEventListener("click", () => {
        if (isOpened) return;
        isOpened = true;

        envelopeWrapper.classList.add("is-open");
        gsap.to("#finale-text", {
          y: -50,
          opacity: 0,
          duration: 0.5,
          ease: "power2.in",
        });

        const tl = gsap.timeline();

        tl.to(card, {
          y: -280,
          duration: 0.8,
          delay: 0.3,
          ease: "back.out(1.2)",
        }).to(card, {
          scale: 1.5,
          y: -180,
          zIndex: 50,
          rotateY: 360,
          duration: 1.2,
          ease: "power3.inOut",
          onComplete: () => {
            confetti({
              particleCount: 200,
              spread: 100,
              origin: { y: 0.6 },
              colors: ["#D4AF37", "#C42128", "#FFFFFF", "#FFD700"],
            });
            setTimeout(() => {
              confetti({
                particleCount: 150,
                angle: 60,
                spread: 55,
                origin: { x: 0 },
                colors: ["#D4AF37", "#C42128"],
              });
              confetti({
                particleCount: 150,
                angle: 120,
                spread: 55,
                origin: { x: 1 },
                colors: ["#D4AF37", "#C42128"],
              });
            }, 500);
          },
        });
      });
    </script>
  </body>
</html>

